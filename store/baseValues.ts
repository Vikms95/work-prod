import { Matrix4, Texture, Vector3 } from 'three'
import wallImg from '../assets/wall.png'
import areaImg from '../assets/area.png'
import { Area, Item, LightType, LineType, Measures } from '@types'
import { WALL1_VALUES, WALL2_VALUES, WALL3_VALUES, WALL4_VALUES } from '@constants'

export const baseAreas = (texture: Texture) =>
  new Map([
    [
      'area1',
      {
        sides: ['pared1', 'pared2', 'pared3', 'pared4'],
        isClosed: true,
        type: 'areas',
        image: areaImg,
        properties: [texture],
      },
    ],
  ]) satisfies Map<string, Area>

export const baseParams = {
  method: 'GET',
  mode: 'cors',
  headers: {
    'Accept-Language': 'ES',
    'Content-Type': 'application/json',
    Authorization: 'Ninpo ' + sessionStorage.getItem('access_token'),
  },
}

//DON'T TOUCH OR LOGIC MAY BREAK
export const EXTRA_DIMENTIONS_DISTANCE = 0
export const BASE_ANGLE_SNAP_DEGREES = 10
export const variation = BASE_ANGLE_SNAP_DEGREES / (Math.PI * 180)
export const ninetyDeg = Math.PI / 2
export const max0 = variation
export const min0 = -variation
export const max90 = ninetyDeg + variation
export const min90 = ninetyDeg - variation
export const oneEighty = Math.PI
export const max180 = -oneEighty + variation
export const min180 = oneEighty - variation
export const twoSeventy = -Math.PI / 2
export const max270 = twoSeventy - variation
export const min270 = twoSeventy + variation
export const pi = oneEighty
export const halfPi = ninetyDeg
export const piFourths = oneEighty / 4
export const piEighths = oneEighty / 8
export const pipi = 2 * pi //This one is fun sorry but can't write 2pi
export const fourtyFiveDeg = Math.PI / 4
export const oneThirtyFive = fourtyFiveDeg + ninetyDeg
export const twoTwoFive = oneEighty + fourtyFiveDeg
export const EPSILON = 1e-6

new Matrix4().extractRotation(new Matrix4())
//Please keep touching if needed below here.
export const baseCamera3DData = {
  position: new Vector3(-2000, 3500, 0),
  zoom: 1,
  matrix: [
    1, 0, -0, 0, -0, 0.39391929857916774, -0.9191450300180577, 0, 0, 0.9191450300180577,
    0.39391929857916774, 0, 0, 3500, 1499.9999999999998, 1,
  ],
  target: new Vector3(0, 0, 0),
}
export const baseCamera2DData = { position: new Vector3(0, 9900, 0), zoom: 0.15 }

export const baseLayers = [
  {
    layerID: 0,
    name: 'layer-0',
    order: 0,
    opacity: 1,
    altitude: 0,
    items: new Set<string>([
      // 'puerta',
      'pared1',
      // 'default-spotlight',
      'pared2',
      'pared3',
      'pared4',
      // 'cubo-x',
      // 'cubo+x',
      // 'lightTubo+z',
      // 'cubo+lights',
      // 'lightTubo+z',
      // 'cubo+lights',
      // 'cubo-z',
      // 'prueba1',
      // 'prueba2',
      // '93bf43a0-0916-11ee-8000-e5fd792da0d3',
      // '90a384b0-0916-11ee-9249-e5fd792da0d3',
      // 'positionLine',
      // 'positionLine2',
    ]),
    areas: new Set<string>(),

    selected: new Set<string>(),
  },
]
export const emptyClientInfo = {
  nombreProyecto: '',
  descripcion: '',
  nombre: '',
  apellidos: '',
  direccion: '',
  codPostal: '',
  poblacion: '',
  email: '',
  pais: '',
  movil: '',
  idDisenos: null,
  idVersiones: null,
}

export const baseItems = (textura1: Texture, textura2: Texture) =>
  new Map([
    [
      'positionLine',
      {
        rotation: Math.PI / 2,
        x: -2.7363879659397616,
        y: 0,
        z: 1115.5179717611115,
        thickness: 150,
        id: 'positionLine',
        type: 'walls',
        name: 'wall',
        prototype: 'lines',
        selected: false,
        visible: false,
        prevLine: 'pared4',
        price: 0,
        misc: {},
        image: wallImg,
        description: 'MSG_99',
        areas: {},
        height: 3000,
        start: [2000, -2075],
        end: [2075, 2000],
        holes: new Set(['puerta']),
        vertices: {},
        width: 1,
        altitude: 0,
        properties: [
          {
            id: 'textureA',
            factorRepeticionX: 0.001,
            factorRepeticionY: 0.001,
            name: 'MSG_94',
            value:
              'http://h19api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Marmol/039003_Marmol%20blanco.jpg',
          },
          {
            id: 'textureB',
            name: 'MSG_95',
            factorRepeticionX: 0.001,
            factorRepeticionY: 0.001,
            value:
              'http://h19api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Marmol/039003_Marmol%20blanco.jpg',
          },
        ],
      },
    ],
    [
      'positionLine',
      {
        rotation: Math.PI / 2,

        x: -2.7363879659397616,
        y: 1000,
        z: 1115.5179717611115,
        thickness: 150,
        id: 'positionLine',
        type: 'walls',
        name: 'wall',
        prototype: 'lines',
        selected: false,
        visible: true,
        prevLine: 'pared4',
        price: 0,
        misc: {},
        image: wallImg,
        description: 'MSG_99',
        areas: {},
        height: 3000,
        start: [2000, -2075],
        end: [2075, 2000],
        holes: new Set(['puerta']),
        vertices: {},
        width: 1,
        altitude: 0,
        properties: [
          {
            id: 'textureA',
            factorRepeticionX: 0.001,
            factorRepeticionY: 0.001,
            value:
              'http://h22api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Ladrillo/037001_Ladrillo%20Beige.jpg',
          },
          {
            id: 'textureB',
            name: 'MSG_95',
            factorRepeticionX: 0.001,
            factorRepeticionY: 0.001,
            value:
              'http://h22api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Marmol/039005_Rivoli.jpg',
          },
        ],
        prevLine: 'pared4',
        nextLine: 'pared2',
        innerAngle: 1.5707963267948966,
        xDirection: -1,
        zDirection: 1,
      },
    ],
    [
      'positionLine2',
      {
        rotation: Math.PI / 2,

        x: -2.7363879659397616,
        y: 1000,
        z: 1115.5179717611115,
        thickness: 150,
        id: 'positionLine2',
        type: 'walls',
        name: 'wall',
        prototype: 'lines',
        selected: false,
        visible: true,
        prevLine: 'pared4',
        price: 0,
        misc: {},
        image: wallImg,
        description: 'MSG_99',
        areas: {},
        height: 3000,
        start: [2000, -2075],
        end: [2075, 2000],
        holes: new Set(['puerta']),
        vertices: {},
        width: 2,
        altitude: 0,
        properties: [
          {
            id: 'textureA',
            factorRepeticionX: 0.001,
            factorRepeticionY: 0.001,
            value:
              'http://h22api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Ladrillo/037001_Ladrillo%20Beige.jpg',
          },
          {
            id: 'textureB',
            name: 'MSG_95',
            factorRepeticionX: 0.001,
            factorRepeticionY: 0.001,
            value:
              'http://h22api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Marmol/039005_Rivoli.jpg',
          },
        ],
        nextLine: 'pared2',
        innerAngle: 1.5707963267948966,
      },
    ],
    [
      'pared1',
      {
        name: 'wall',
        prototype: 'lines',
        type: 'walls',
        selected: true,
        visible: true,
        price: 0,
        height: 2500,
        thickness: 150,
        misc: {},
        image: wallImg,
        description: 'MSG_99',
        holes: new Set(),
        width: 4000,
        altitude: 0,
        rotation: 1.5707963267948966,
        x: WALL1_VALUES.x,
        y: 0,
        z: WALL1_VALUES.z,
        id: 'pared1',
        areas: {},
        end: [2000, 2000],
        start: [2000, -2000],
        extraLeftLength: 0,
        extraRightLength: 0,
        showAngle: true,
        properties: [textura1, textura2],
        prevLine: 'pared4',
        nextLine: 'pared2',
        innerAngle: ninetyDeg,
      },
    ],
    [
      'pared2',
      {
        name: 'wall',
        prototype: 'lines',
        type: 'walls',
        selected: true,
        visible: true,
        price: 0,
        height: 2500,
        thickness: 150,
        misc: {},
        image: wallImg,
        description: 'MSG_99',
        holes: new Set(),
        width: 4000,
        altitude: 0,
        rotation: 3.141592653589793,
        x: WALL2_VALUES.x,
        y: 0,
        z: WALL2_VALUES.z,
        id: 'pared2',
        areas: {},
        end: [-2000, 2000],
        start: [2000, 2000],
        extraLeftLength: 0,
        extraRightLength: 0,
        showAngle: true,
        properties: [textura1, textura2],
        prevLine: 'pared1',
        nextLine: 'pared3',
        innerAngle: ninetyDeg,
      },
    ],
    [
      'pared3',
      {
        name: 'wall',
        prototype: 'lines',
        type: 'walls',
        selected: true,
        visible: true,
        price: 0,
        height: 2500,
        thickness: 150,
        misc: {},
        image: wallImg,
        description: 'MSG_99',
        holes: new Set(),
        width: 4000,
        altitude: 0,
        rotation: -1.5707963267948966,
        x: WALL3_VALUES.x,
        y: 0,
        z: WALL3_VALUES.z,
        id: 'pared3',
        areas: {},
        end: [-2000, -2000],
        start: [-2000, 2000],
        extraLeftLength: 0,
        extraRightLength: 0,
        showAngle: true,
        properties: [textura1, textura2],
        prevLine: 'pared2',
        nextLine: 'pared4',
        innerAngle: ninetyDeg,
      },
    ],
    [
      'pared4',
      {
        name: 'wall',
        prototype: 'lines',
        type: 'walls',
        selected: true,
        visible: true,
        price: 0,
        height: 2500,
        thickness: 150,
        misc: {},
        image: wallImg,
        description: 'MSG_99',
        holes: new Set(),
        width: 4000,
        altitude: 0,
        rotation: 0,
        x: WALL4_VALUES.x,
        y: 0,
        z: WALL4_VALUES.z,
        id: 'pared4',
        areas: {},
        end: [2000, -2000],
        start: [-2000, -2000],
        extraLeftLength: 0,
        extraRightLength: 0,
        showAngle: true,
        properties: [textura1, textura2],
        prevLine: 'pared3',
        nextLine: 'pared1',
        innerAngle: ninetyDeg,
      },
    ],
    [
      'default-spotlight',
      {
        id: 'default-spotlight',
        image: 'http://h22api.for2home.com/CatalogData/ItemImages/MainMenu/Luces4.jpeg',
        rotation: 1,
        selected: true,
        lightType: 'spotlight',
        type: 'lights',
        description2: 'Luz de foco',
        itemMatrix: new Matrix4().setPosition(new Vector3(0, 20, 0)),
        visible: true,
        intensity: 0.5,
        color: '#FFFFFF',
        tipoNormalizado: 'L01',
        description: 'Spot Light',
        prototype: 'light',
        misc: {},
        properties: {
          angle: { value: 45, name: 'MSG_18', min: 0, max: 90 },
          distance: { value: 0, name: 'MSG_160', min: 0, max: 10 },
          penumbra: { value: 0.5, name: 'MSG_152', min: 0, max: 1 },
          castShadow: { value: true, name: 'MSG_154' },
        },
        x: 0,
        y: 1000,
        z: 0,
      },
    ],
    [
      '93bf43a0-0916-11ee-8000-e5fd792da0d3',
      {
        name: 'wall',
        prototype: 'lines',
        type: 'walls',
        selected: true,
        visible: true,
        // "prevLine": "90a384b0-0916-11ee-9249-e5fd792da0d3",
        price: 500,
        misc: {},
        image: areaImg,
        description: 'MSG_99',
        areas: {},
        thickness: 150,
        height: 3000,
        start: [1009.9999999999997, -4.160666666668414],
        end: [-1009.9999999999995, 1995.839333333332],
        holes: {},
        vertices: {},
        width: 2842.6044395940844,
        altitude: 0,
        rotation: 2.3611695735231986,
        x: 53.26850971970618,
        y: 0,
        z: 1049.635528150235,
        id: '93bf43a0-0916-11ee-8000-e5fd792da0d3',
        properties: [
          {
            id: 'textureA',
            name: 'MSG_94',
            value:
              'http://h19api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Marmol/039003_Marmol%20blanco.jpg',
          },
          {
            id: 'textureB',
            name: 'MSG_95',
            value:
              'http://h19api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Marmol/039003_Marmol%20blanco.jpg',
          },
        ],
      },
    ],
    [
      '90a384b0-0916-11ee-9249-e5fd792da0d3',
      {
        name: 'wall',
        prototype: 'lines',
        type: 'walls',
        selected: true,
        visible: true,
        price: 500,
        misc: {},
        image: areaImg,
        description: 'MSG_99',
        prevLine: '93bf43a0-0916-11ee-8000-e5fd792da0d3',
        areas: {},
        thickness: 150,
        height: 3000,
        start: [-990.0000000000002, -2002.4940000000006],
        end: [1009.9999999999997, -2.4940000000015834],
        holes: new Set<string>(),
        width: 2827.248859069733,
        altitude: 0,
        rotation: 0.784981323071445,
        x: 63.510897685643975,
        y: 0,
        z: -1056.8824436108766,
        id: '90a384b0-0916-11ee-9249-e5fd792da0d3',
        properties: [
          {
            id: 'textureA',
            name: 'MSG_94',
            value:
              'http://h19api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Marmol/039003_Marmol%20blanco.jpg',
          },
          {
            id: 'textureB',
            name: 'MSG_95',
            value:
              'http://h19api.for2home.com/CatalogData/ItemImages/Texturas/Universales_1_1_0/Marmol/039003_Marmol%20blanco.jpg',
          },
        ],
      },
    ],
    [
      'prueba1',
      {
        start: [-990.0000000000002, -2002.4940000000006],
        end: [1009.9999999999997, -2.4940000000015834],
        thickness: 150,
        rotation: 0.784981323071445,
        width: 2827.248859069733,

        x: 63.510897685643975,
        y: 0,
        z: -1056.8824436108766,
      },
    ],
    [
      'prueba2',
      {
        start: [1009.9999999999997, -4.160666666668414],
        end: [-1009.9999999999995, 1995.839333333332],
        thickness: 150,
        rotation: 2.3611695735231986,

        x: 53.26850971970618,
        y: 0,
        z: 1049.635528150235,
      },
    ],
  ]) as any

export const baseTextos = {
  idioma: {
    id: 1,
    codigo: 'ES',
    nombreCultura: 'ES',
    idioma: 'Español',
  },
  textos: {
    MSG_1: '¿Seguro que quieres hacer eso?',
    MSG_2: 'He encontrado {{numero}} diseños',
    MSG_4: 'Ancho',
    MSG_5: 'Fondo',
    MSG_6: 'Alto',
    MSG_7: 'Altura De Colocación',
    MSG_8: 'CAMBIAR RENDER',
    MSG_9: 'Nuevo Diseño',
    MSG_10: 'Diseño Existente',
    MSG_11: 'Localizar tienda',
    MSG_12: 'Contacto',
    MSG_13: 'Compartir proyecto',
    MSG_14: 'Paredes',
    MSG_15: 'Propiedades',
    MSG_16: 'Sí',
    MSG_17: 'No',
    MSG_18: 'Ángulo',
    MSG_19: 'Textura',
    MSG_20: 'Textura 1',
    MSG_21: 'Textura 2',
    MSG_22: 'Enlace 1',
    MSG_23: 'Enlace 2',
    MSG_24: 'Unlink 1',
    MSG_25: 'Opciones',
    MSG_26: 'Buscar...',
    MSG_27: 'Búsqueda Avanzada',
    MSG_28: 'Acabado',
    MSG_29: 'Universal Texturas',
    MSG_30: 'Colores Lisos',
    MSG_31: 'RAL',
    MSG_32: 'Pantone',
    MSG_33: 'Textura',
    MSG_34: 'Estilo',
    MSG_35: 'Ok',
    MSG_36: 'Cancelar',
    MSG_37: 'Acabados',
    MSG_38: 'Iniciar Sesión',
    MSG_39: 'Crear cuenta',
    MSG_40: 'Correo',
    MSG_41: 'Contraseña',
    MSG_42: '¿Olvidaste tu contraseña?',
    MSG_43: 'Recuérdame',
    MSG_44: 'Registrate',
    MSG_45: 'Nombre',
    MSG_46: 'Apellidos',
    MSG_47: 'Dirección',
    MSG_48: 'Código postal',
    MSG_49: 'Teléfono',
    MSG_50: 'Confirmar contraseña',
    MSG_51: 'He leido y acepto la',
    MSG_52: 'Política de Privacidad',
    MSG_53: 'Condiciones de uso ',
    MSG_54: 'confirme los términos',
    MSG_55: '¿Ya tienes cuenta? Inicia sesion',
    MSG_56: 'y las',
    MSG_57: 'Menu de Preferencias',
    MSG_58: 'Para construir tu estancia, introduce las medidas de tu habitación',
    MSG_59: 'Medidas',
    MSG_60: 'Grueso',
    MSG_61: 'Empresa',
    MSG_62: 'CIF',
    MSG_63: 'Pais',
    MSG_64: 'Ciudad',
    MSG_65: 'Idioma',
    MSG_66: 'Modificar mis datos',
    MSG_67: 'Gestionar Proyectos',
    MSG_68: 'Cerrar sesión',
    MSG_69: 'Ordenar por...',
    MSG_70: 'Email',
    MSG_71: 'Fecha de inicio',
    MSG_72: 'Fecha de última modificación',
    MSG_73: 'Estado',
    MSG_74: 'Nombre proyecto',
    MSG_75: 'Documentos creados',
    MSG_76: 'Descripción',
    MSG_77: '¿Quieres borrar las paredes existentes?',
    MSG_78: 'Nombre proyecto',
    MSG_79: 'Datos del cliente',
    MSG_80: 'C.P.',
    MSG_81: 'Móvil',
    MSG_82: 'Guardar',
    MSG_83: 'Buscar...',
    MSG_84: 'Dirección',
    MSG_85: 'Presupuesto',
    MSG_86: 'Pendiente',
    MSG_87: 'Fecha inicio:',
    MSG_88: 'Factura',
    MSG_89: 'Apertura de puerta',
    MSG_90: 'Otros parámetros',
    MSG_91: 'Interior cajones',
    MSG_92: 'Mano',
    MSG_93: 'Acabado',
    MSG_94: 'Frontal',
    MSG_95: 'Trasera',
    MSG_96: 'Precio',
    MSG_97: 'Ventana',
    MSG_98: 'Pared',
    MSG_99: 'Pared de ladrillos o pintada',
    MSG_100: 'Puerta de madera',
    MSG_101: 'Modificar datos',
    MSG_102: 'Precio total:',
    MSG_103: 'Puerta',
    MSG_104: 'Puerta doble',
    MSG_105: 'Puerta de hierro',
    MSG_106: 'Ventana de dos hojas',
    MSG_107: 'Ventana una hoja',
    MSG_108: 'Ventana fija una hoja',
    MSG_109: 'Natural',
    MSG_110: 'Alsacia',
    MSG_111: 'Antracita mate',
    MSG_112: 'Black Velvet',
    MSG_113: 'Blanco Brillo',
    MSG_114: 'Blue Flog',
    MSG_115: 'Green Forest',
    MSG_116: 'Macchiato',
    MSG_117: 'Night Blue',
    MSG_118: 'Pino Bahia',
    MSG_119: 'Roble Africa',
    MSG_120: 'White Cotton',
    MSG_121: 'Real',
    MSG_122: 'Pure',
    MSG_123: 'Intense',
    MSG_124: 'Mármol',
    MSG_125: 'Bohemian blue',
    MSG_126: 'Green mosaic',
    MSG_127: 'Green',
    MSG_128: 'RAL 15010',
    MSG_129: 'RAL 19016',
    MSG_130: 'Hidráulico',
    MSG_131: 'Parquet',
    MSG_132: 'Introduzca empresa',
    MSG_133: 'Introduzca CIF',
    MSG_134: 'Introduzca direccion',
    MSG_135: 'Introduzca ciudad',
    MSG_136: 'Introduzca codigo postal',
    MSG_137: 'Introduzca pais',
    MSG_138: 'Guardar proyecto',
    MSG_139: 'Español',
    MSG_140: 'Portugues',
    MSG_141: 'Francés',
    MSG_142: 'Italiano',
    MSG_143: 'Ingles',
    MSG_144: 'Aleman',
    MSG_145: 'Holandés',
    MSG_146: 'Lavabo',
    MSG_147: 'Ninguno',
    MSG_148: 'Habitación genérica',
    MSG_149: 'Búsqueda avanzada',
    MSG_150: 'Intensidad',
    MSG_151: 'Temperatura color',
    MSG_152: 'Penumbra',
    MSG_153: 'Potencia',
    MSG_154: 'Mostrar sombras',
    MSG_155: 'Iluminación',
    MSG_156: 'Luz de ambiente',
    MSG_157: 'Luz de foco',
    MSG_158: 'Luz direccional',
    MSG_159: 'Punto de luz',
    MSG_160: 'Distancia',
    MSG_161: 'Color',
    MSG_181: 'Texturas Universales',
    MSG_182: 'Area',
  } satisfies Record<`MSG_${number}`, string>,
}
